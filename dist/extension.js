(()=>{var e={474:(e,t,n)=>{let r=n(461),i=n(724),o=n(3),s=n(477);e.exports={activate:function(e){r.register(e),i.register(e),o.register(e),s.register(e)},deactivate:function(){s.deactivate()}}},477:(e,t,n)=>{let r,i,o,s,c,a,u=n(496),{tmpdir:l,platform:d,EOL:m}=n(719),{join:h,sep:p}=n(423),{writeFileSync:f,watch:g,rmSync:w,readFile:x}=n(231),b="",v="",C="rg",T="fzf";const k=(new Date).getTime(),S=h(l(),`vscode_fuzzysearch_${k.toString()}.tmp`);function $(){const e=u.workspace.getConfiguration("codereaper");C=e.get("ripgrepPath"),T=e.get("fzfPath"),i=`--iglob ${e.get("fuzzySearchIncludeGlob")}`,o=`--iglob ${e.get("fuzzySearchExcludeGlob")}`,s=e.get("fuzzySearchContentRegExp"),c=e.get("fuzzySearchTodoContentRegExp"),a=e.get("fzfOptions"),y()}function y(){v=M(),i=function(){const e=u.workspace.workspaceFolders.map((function(e){return e.uri.fsPath})),t=D(e);v=t;const n=e.map((function(e){var n=e.replace(t,"");return n.charAt(0)==p?n.substring(1):n})).filter((function(e){return e.length>0}));var r=i;if(n.length>0){const e=u.workspace.getConfiguration("codereaper").get("fuzzySearchIncludeGlob");r=n.map((function(t){return`--iglob ${[e.slice(0,1),t+"/",e.slice(1)].join("")}`})).join(" ")}return r}()}function P(){r&&void 0===r.exitStatus?b!=v&&(r.sendText(`cd ${v}`),r.show(),b=v):function(){const e=M();b=e,v=e,r=u.window.createTerminal({name:"FuzzySearch",hideFromUser:!0,shellPath:O(),cwd:e})}()}function _(){P();const e=B(),t=`${C} ${i} ${o} --files`,n=q(),s=j([`${t} | ${e} > ${S}`,`echo ${n} >> ${S}`]);r.sendText(s),r.show()}function z(){P();const e=`${T} ${a} --delimiter : --nth 3..`,t=`${C} --line-number --column ${i} ${o} --pcre2 ${s}`,n=q(),c=j([`${t} | ${e} > ${S}`,`echo ${n} >> ${S}`]);r.sendText(c),r.show()}function E(){P();const e=B(),t=`${C} --line-number --column ${i} ${o} --pcre2 ${c}`,n=q(),s=j([`${t} | ${e} > ${S}`,`echo ${n} >> ${S}`]);r.sendText(s),r.show()}function D(e){if(0==e.length)return"";if(1==e.length)return e[0];for(var t=new Set(e[0].split(p)),n=1;n<e.length;n++){const r=new Set(e[n].split(p));t=new Set([...t].filter((e=>r.has(e))))}return[...t].join(p)}function M(){return D(u.workspace.workspaceFolders.map((function(e){return e.uri.fsPath})))}function O(){const e=d();return"win32"==e?"cmd.exe":"linux"==e?"bash":void 0}function q(){return"win32"==d()?"%ErrorLevel%":"$?"}function j(e){return"win32"==d()?e.join("&"):e.join(";")}function B(){return`${T} ${a}`}function I(e){e.split("\n").filter((e=>""!==e)).forEach((e=>{const[t,n,r]=e.split(":",3);let i,o=0;void 0!==n&&(void 0!==r&&(o=parseInt(r)-1),i=parseInt(n)-1);const s={preview:!1,selection:i?new u.Range(i,o,i,o):void 0};u.window.showTextDocument(u.Uri.file(h(v,t)),s)}))}e.exports={register:function(e){e.subscriptions.push(u.commands.registerCommand("codereaper.fuzzySearchFiles",_),u.commands.registerCommand("codereaper.fuzzySearchFileContents",z),u.commands.registerCommand("codereaper.fuzzySearchTodoContents",E),u.workspace.onDidChangeConfiguration($),u.workspace.onDidChangeWorkspaceFolders(y)),f(S,""),g(S,(e=>{"change"==e?x(S,{encoding:"utf-8"},((e,t)=>{if(e)return;let n=t.split(m).filter((e=>""!==e));var i=n.length-1;try{const e=parseInt(n[i]);0==isNaN(e)&&0!=e&&(i-=1,r?.hide())}catch(e){console.log(e)}for(;i>=0;i--)if(n[i].length>0&&"1"!=n[i][0])try{I(n[i]),r?.hide()}catch(e){console.error(e)}})):"rename"==e&&u.window.showErrorMessage("fuzzy search output file has been renamed\n")})),$()},deactivate:function(){w(S)}}},461:(e,t,n)=>{let r=n(496);const{getKeymapTree:i}=n(722);let o,s,c,a,u,l,d,m,h=!1;const p=r.TextEditorCursorStyle.Block,f=r.TextEditorCursorStyle.Line,g="codereaper.toggle";function w(){const e=r.workspace.getConfiguration("codereaper");o=i(e.get("keymap")),s=new Set(e.get("stickyParentKeys")),c=e.get("navigationModeIdentifier"),a=e.get("editModeIdentifier")}function x(){h?v():(u||(u=r.commands.registerCommand("type",C)),h=!0,T(r.window.activeTextEditor),k(),r.commands.executeCommand("setContext","codereaper.isInNavigationMode",!0)),S()}function b(){h&&(r.commands.executeCommand("cancelSelection"),r.commands.executeCommand("removeSecondaryCursors"),S())}function v(){u&&(u.dispose(),u=void 0),h=!1,T(r.window.activeTextEditor),k(),r.commands.executeCommand("setContext","codereaper.isInNavigationMode",!1)}async function C(e){const t=r.window.activeTextEditor,n=e.text in m?m[e.text]:void 0;if(!n){const t=d;return S(),void(s.has(t)&&C(e))}t&&"command"in n?(await r.commands.executeCommand(n.command,n.args),s.has(d)||S()):(d=e.text,m=n)}function T(e){e&&(e.options.cursorStyle=h?p:f)}function k(){l&&(l.text=h?c:a,l.show())}function S(){d="root",m=o[d]}e.exports={register:function(e){l=r.window.createStatusBarItem(r.StatusBarAlignment.Left,100),l.command=g,e.subscriptions.push(r.commands.registerCommand(g,x),r.commands.registerCommand("codereaper.clearInput",b),r.workspace.onDidChangeConfiguration(w),r.window.onDidChangeActiveTextEditor((e=>T(e)))),e.subscriptions.push(l),w(),v(),S()}}},722:e=>{e.exports={getKeymapTree:function(e){let t={root:{}};for(const n in e){let r=t.root,i=0;for(;i<n.length-1;i++)n[i]in r||(r[n[i]]={}),r=r[n[i]];r[n[i]]=e[n]}return t}}},724:(e,t,n)=>{let r=n(496);function i(e,t,n){var r=(e.lineAt(t).text+"hack").split(n).reduce(((e,t)=>{var n=t.length+1;return e.length>0&&(n+=e[e.length-1]),e.push(n),e}),[]);return r.pop(),r}function o(e,t,n,s=0,c,a=0){if(t!==e.lineCount){for(var u=i(e,t,n).filter((e=>e>=s)),l=c?i(e,t,c).filter((e=>e>=s)):[],d=0,m=0;(d<u.length||m<l.length)&&a>=0;)if(u[d]<l[m]||!l[m]){if(0===a)return new r.Position(t,u[d]);a--,d++}else(l[m]<u[d]||!u[d])&&(a++,m++);return o(e,++t,n,0,c,a)}}function s(e,t,n,o,c,a=0){if(-1!==t){void 0===o&&(o=e.lineAt(t).text.length);for(var u=i(e,t,n).filter((e=>e<=o)),l=c?i(e,t,c).filter((e=>e<=o)):[],d=u.length-1,m=l.length-1;(d>-1||m>-1)&&a>=0;)if(u[d]>l[m]||!l[m]){if(0===a)return new r.Position(t,u[d]);a--,d--}else(l[m]>u[d]||!u[d])&&(a++,m--);return s(e,--t,n,void 0,c,a)}}function c(e,t,n,c,a){let{line:u,character:l}=e.active,d=i(t,u,n),m=d.find((e=>e>l)),h=d.indexOf(m),p=c?n.length:0;if(d.length>1&&d.length%2==0)return-1===m?e:(h%2!=0&&h--,!c&&new r.Position(u,d[h]).isEqual(e.anchor)&&new r.Position(u,d[h+1]-1).isEqual(e.end)&&(p=n.length),new r.Selection(new r.Position(u,d[h]-p),new r.Position(u,d[h+1]-1+p)));if(a){let i=s(t,u,n,l)||new r.Position(u,d[h]);if(!i)return e;let a=o(t,i.line,n,i.character+1);if(!c&&i.isEqual(e.anchor)&&new r.Position(a.line,a.character-1).isEqual(e.end)&&(p=n.length),i&&a)return i=new r.Position(i.line,i.character-p),a=new r.Position(a.line,a.character-1+p),new r.Selection(i,a)}return e}function a({char:e,outer:t=!1,multiline:n=!1}){let i=r.window.activeTextEditor;if(!i)return;let o=i.document,s=i.selections;i.selections=s.map((r=>c(r,o,e,t,n)))}function u(){const e=r.workspace.getConfiguration("quick-select").get("includeBackticks");return['"',"'"].concat(e?["`"]:[])}function l(){const e=u();let t=r.window.activeTextEditor;if(!t)return;let n=t.document,i=t.selections;t.selections=i.map((t=>{let r=e.map((e=>c(t,n,e,!1,!1))).filter((e=>e!==t)).filter((e=>e.start.isBeforeOrEqual(t.start)&&e.end.isAfterOrEqual(t.end))).sort(((e,t)=>e.start.isBefore(t.start)?1:-1));return r.length>0?r[0]:t}))}function d(e){let t=new r.Position(e.line,e.character+1);return new r.Selection(e,t)}function m(){const e=u();let t=r.window.activeTextEditor,n=t.selections;if(l(),!t)return;let i=t.document;t.selections.map((t=>{if(t.start.isEqual(t.end))return;let n=-1===e.indexOf(i.getText(d(t.start)))?1:0,o=-1===e.indexOf(i.getText(d(t.end)))?1:0,s=new r.Position(t.start.line,t.start.character-n),c=new r.Position(t.end.line,t.end.character-o);t=new r.Selection(s,c);var a=i.getText(d(t.start)),u=new r.WorkspaceEdit;let l=e.indexOf(a)+1;l===e.length&&(l=0);let m=e[l];u.replace(i.uri,d(t.start),m),u.replace(i.uri,d(t.end),m),r.workspace.applyEdit(u),i.getText()})),console.log(n),t.selections=n,console.log(t.selections)}function h({start_char:e,end_char:t,outer:n=!1}){let c=r.window.activeTextEditor;if(!c)return;let a=c.document,u=c.selections,l=!1,d=n?e.length:0,m=n?t.length:0;c.selections=u.map((c=>{let{line:u,character:h}=c.active,p=i(a,u,e),f=i(a,u,t),g=p.find((e=>e>h)),w=(f.find((e=>e>h)),p.indexOf(g)),x=s(a,u,e,h,t)||new r.Position(u,p[w]);if(!x)return c;let b=o(a,x.line,t,x.character+1,e);return x&&b?(l=!0,!n&&x.isEqual(c.anchor)&&new r.Position(b.line,b.character-1).isEqual(c.end)&&(d=e.length,m=t.length),x=new r.Position(x.line,x.character-d),b=new r.Position(b.line,b.character-1+m),new r.Selection(x,b)):c})),l&&"<"===e&&r.commands.executeCommand("editor.action.addSelectionToNextFindMatch")}e.exports={register:function(e){let t;e.subscriptions.push(r.commands.registerCommand("codereaper.selectDoubleQuote",a.bind(t,{char:'"'}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectSingleQuote",a.bind(t,{char:"'"}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectEitherQuote",l)),e.subscriptions.push(r.commands.registerCommand("codereaper.switchQuotes",m)),e.subscriptions.push(r.commands.registerCommand("codereaper.selectBackTick",a.bind(t,{char:"`",multiline:!0}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectParenthesis",h.bind(t,{start_char:"(",end_char:")"}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectSquareBrackets",h.bind(t,{start_char:"[",end_char:"]"}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectCurlyBrackets",h.bind(t,{start_char:"{",end_char:"}"}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectParenthesisOuter",h.bind(t,{start_char:"(",end_char:")",outer:!0}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectSquareBracketsOuter",h.bind(t,{start_char:"[",end_char:"]",outer:!0}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectCurlyBracketsOuter",h.bind(t,{start_char:"{",end_char:"}",outer:!0}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectAngleBrackets",h.bind(t,{start_char:"<",end_char:">"}))),e.subscriptions.push(r.commands.registerCommand("codereaper.selectInTag",h.bind(t,{start_char:">",end_char:"<"})))}}},3:(e,t,n)=>{let r=n(496),i=n(423);const{existsSync:o}=n(231);let s,{MRUTabs:c}=n(640),a=10,u="asdjklyweio",l=!1,d=new c(a);function m(){const e=r.workspace.getConfiguration("codereaper");a=e.get("maxMRUTabsLen"),u=e.get("tabHintCharList"),d.setMaxSize(a),l=e.get("removeClosedTabsFromList")}function h(){let e=d.getMRUTabs();const t=Math.ceil(e.length/u.length);let n=f(e.length,t),s=Object.keys(e).map((t=>({label:`${n[t]} ~ ${i.basename(e[t])}`,description:`${r.workspace.asRelativePath(i.dirname(e[t]))}`,alwaysShow:!0}))),c=r.window.createQuickPick();c.matchOnDescription=!0,c.matchOnDetail=!0,c.items=s,c.items[0].picked=!0,c.onDidAccept((()=>{c.selectedItems.forEach((e=>{const t=e.description,n=e.label.split("~")[1].trimStart();let s=i.join(t,n);o(s)||(s=i.join(r.workspace.workspaceFolders[0].uri.fsPath,s)),r.window.showTextDocument(r.Uri.file(s),{preview:!1})}))})),c.onDidHide((()=>c.dispose())),c.show()}function p(){let e=d.getMRUTabs();const t=Math.ceil(e.length/u.length);let n=f(e.length,t),s=Object.keys(e).map((t=>({label:`${n[t]} ~ ${i.basename(e[t])}`,description:`${r.workspace.asRelativePath(i.dirname(e[t]))}`,alwaysShow:!0}))),c=r.window.createQuickPick();c.matchOnDescription=!1,c.matchOnDetail=!1,c.canSelectMany=!1,c.items=s,c.items[0].picked=!0,c.onDidChangeValue((e=>{if(""!=e&&e.length==t){const e=c.activeItems[0],t=e.description,n=e.label.split("~")[1].trimStart();let s=i.join(t,n);o(s)||(s=i.join(r.workspace.workspaceFolders[0].uri.fsPath,s)),r.window.showTextDocument(r.Uri.file(s),{preview:!1}),c.dispose()}})),c.onDidAccept((()=>{c.selectedItems.forEach((e=>{const t=e.description,n=e.label.split("~")[1].trimStart();let s=i.join(t,n);o(s)||(s=i.join(r.workspace.workspaceFolders[0].uri.fsPath,s)),r.window.showTextDocument(r.Uri.file(s),{preview:!1})}))})),c.onDidHide((()=>c.dispose())),c.show()}function f(e,t){let n=(r,i)=>{if(i.length>=e)return i;if(r.length<t)for(let e=0;e<u.length;e++)n(r+u[e],i);else i.push(r);return i};return n("",[])}e.exports={register:function(e){e.subscriptions.push(r.commands.registerCommand("codereaper.jumpToTab",h),r.commands.registerCommand("codereaper.quickJumpToTab",p),r.workspace.onDidChangeConfiguration(m)),r.window.onDidChangeActiveTextEditor((e=>{try{s&&d.add(s,void 0),s=e.document.uri.fsPath,d.remove(e.document.uri.fsPath)}catch(e){console.log(e)}})),r.workspace.onDidCloseTextDocument((e=>{const t=e.uri.fsPath;1==l&&d.remove(t),t==s&&(s=void 0)})),m()}}},640:e=>{e.exports={MRUTabs:class{constructor(e){this.mruTabs_=new Map,this.maxSize_=e}add(e,t){this.remove(e),this.mruTabs_.set(e,t),this.clampBuffer()}remove(e){this.mruTabs_.has(e)&&this.mruTabs_.delete(e)}get(e){return this.mruTabs_.get(e)}setMaxSize(e){this.maxSize_=e,this.clampBuffer()}clampBuffer(){if(this.mruTabs_.size<=this.maxSize_)return;const e=[...this.mruTabs_.keys()];for(;this.mruTabs_.size>this.maxSize_;){const t=e.shift();this.mruTabs_.delete(t)}}getMRUTabs(){return[...this.mruTabs_.keys()].reverse()}}}},231:e=>{"use strict";e.exports=require("fs")},719:e=>{"use strict";e.exports=require("os")},423:e=>{"use strict";e.exports=require("path")},496:e=>{"use strict";e.exports=require("vscode")}},t={},n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(474);module.exports=n})();